<div class="relative inline-block" x-data="{ open: false, selected: { name: 'English', code: 'en', flag: 'ðŸ‡ºðŸ‡¸' } }">
  <button 
    @click="open = !open" 
    class="flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200"
  >
    <span class="text-lg" x-text="selected.flag"></span>
    <span class="text-sm font-medium text-gray-700 dark:text-gray-300" x-text="selected.name"></span>
    <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
    </svg>
  </button>

  <div 
    x-show="open" 
    @click.outside="open = false"
    x-transition:enter="transition ease-out duration-100"
    x-transition:enter-start="opacity-0 scale-95"
    x-transition:enter-end="opacity-100 scale-100"
    x-transition:leave="transition ease-in duration-75"
    x-transition:leave-start="opacity-100 scale-100"
    x-transition:leave-end="opacity-0 scale-95"
    class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50"
  >
    <div class="py-1">
      <template x-for="lang in [
        { name: 'English', code: 'en', flag: 'ðŸ‡ºðŸ‡¸' },
        { name: 'Spanish', code: 'es', flag: 'ðŸ‡ªðŸ‡¸' },
        { name: 'French', code: 'fr', flag: 'ðŸ‡«ðŸ‡·' },
        { name: 'German', code: 'de', flag: 'ðŸ‡©ðŸ‡ª' },
        { name: 'Japanese', code: 'ja', flag: 'ðŸ‡¯ðŸ‡µ' },
        { name: 'Portuguese', code: 'pt', flag: 'ðŸ‡§ðŸ‡·' },
        { name: 'Chinese', code: 'zh', flag: 'ðŸ‡¨ðŸ‡³' }
      ]">
        <button 
          @click="selected = lang; open = false"
          class="w-full flex items-center gap-3 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
          :class="selected.code === lang.code ? 'bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300' : 'text-gray-700 dark:text-gray-300'"
        >
          <span class="text-lg" x-text="lang.flag"></span>
          <span x-text="lang.name"></span>
          <svg x-show="selected.code === lang.code" class="w-4 h-4 ml-auto text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
        </button>
      </template>
    </div>
  </div>
</div>